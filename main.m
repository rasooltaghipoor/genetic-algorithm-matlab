clc
clear all
%% inputs
row = 500;
col = 10;
min = 1;
max = 20;
iter = 5000;
%%
% 1. generate first random generation
gen = generate(min , max , row , col);
%gen=[8,1,7,10,10,10,10,7,8,8;10,10,7,9,10,7,7,10,10,8;10,10,10,9,8,10,8,9,8,6;10,10,10,9,8,10,8,8,8,6;10,10,5,10,10,9,9,7,7,10;10,10,5,10,10,9,9,7,9,10;10,10,7,9,7,9,7,10,10,8;10,10,7,10,10,9,4,7,10,10;10,10,7,10,10,9,10,9,6,6;10,10,7,7,10,9,9,7,7,10;10,10,2,7,10,9,10,10,10,8;10,10,5,7,10,8,10,7,8,10;10,10,5,10,10,9,4,7,10,10;10,10,9,10,10,9,5,4,8,10;10,10,3,9,10,9,6,10,8,10;10,10,7,7,10,8,9,7,7,10;10,10,5,7,10,8,10,7,8,10;10,10,2,10,10,10,10,7,8,8;10,10,10,9,8,10,9,3,10,5;10,10,5,9,10,9,10,7,4,10;10,10,9,10,7,10,3,7,8,10;10,10,5,10,10,10,4,8,7,10;10,10,7,10,8,8,6,10,9,6;10,10,5,10,10,10,2,9,7,3;10,5,5,7,10,9,9,8,9,6;10,10,9,7,7,8,9,10,4,9;10,2,3,9,10,9,6,10,9,7;10,10,3,10,10,8,10,8,8,6;10,10,5,10,10,9,9,8,9,3;10,10,7,10,10,7,9,8,9,3;10,10,9,7,7,8,9,10,4,9;4,10,3,10,10,8,10,8,8,6;10,10,7,10,5,8,9,8,9,7;10,10,9,10,10,9,9,4,2,10;10,10,7,9,10,9,10,7,8,3;10,10,7,10,10,8,10,3,8,6;10,10,5,10,10,9,8,9,5,6;10,10,2,7,4,9,6,10,10,8;10,10,9,7,7,8,9,10,4,8;10,10,2,10,7,9,5,9,8,8;10,10,3,10,10,9,6,10,8,6;10,10,7,10,10,9,10,8,2,6;10,10,7,10,10,8,10,7,8,2;10,10,5,10,10,9,8,9,5,6;10,10,7,9,10,9,9,3,10,5;10,10,10,9,8,8,9,3,10,5;10,10,7,9,4,10,9,8,9,2;10,10,5,9,8,9,10,7,4,10;10,10,7,9,10,8,8,9,5,8;10,10,9,7,7,9,6,10,8,6;10,10,7,10,10,10,10,7,8,9;10,10,9,7,7,8,9,10,4,8;10,10,3,9,10,9,7,10,10,8;10,10,7,9,10,7,6,10,9,7;10,5,10,10,10,8,10,8,8,6;10,10,3,9,8,10,8,9,8,6;10,10,10,10,10,9,9,8,8,6;10,10,5,9,8,10,8,8,9,3;10,10,5,10,10,7,9,7,7,10;10,10,6,10,10,9,9,8,9,3;10,10,5,7,7,8,9,10,7,10;10,10,9,10,10,9,9,7,4,9;10,10,7,9,10,8,7,10,10,8;10,10,3,10,7,9,10,8,8,6;10,10,7,10,5,8,9,8,10,10;10,10,7,10,10,7,4,7,9,7;10,10,7,10,10,9,9,4,6,6;10,10,9,10,10,9,10,9,2,10;10,10,7,7,10,9,10,7,7,10;10,10,7,9,10,9,9,7,8,3;10,10,2,7,10,9,10,10,10,8;10,10,7,10,10,8,10,3,8,6;10,10,5,10,10,8,10,7,8,10;10,10,5,7,10,9,8,9,5,6;10,10,2,10,10,9,4,7,10,10;10,10,5,7,4,9,6,10,10,8;10,10,9,10,10,9,9,4,8,10;10,10,9,7,7,8,5,10,4,8;10,10,3,10,7,9,9,9,8,10;10,10,2,9,10,9,6,10,8,8;10,10,7,7,10,9,6,7,7,10;10,10,3,10,10,8,9,10,8,6;10,10,5,10,10,8,10,7,8,10;10,10,7,7,10,6,10,8,2,6;10,10,2,10,10,10,10,7,8,2;10,10,7,10,10,8,10,7,8,8;10,10,10,9,10,10,9,3,10,5;10,10,5,10,8,9,8,9,5,6;10,10,5,9,10,9,9,3,10,10;10,10,7,9,10,3,10,7,4,10;10,10,10,9,8,8,9,3,8,10;10,10,9,10,6,10,3,7,10,5;10,10,5,10,10,10,9,8,9,10;10,10,7,9,8,10,4,8,7,2;10,10,7,9,8,9,10,10,9,6;10,10,5,10,8,8,6,7,4,10;10,10,5,10,10,10,2,9,7,6;10,10,7,9,10,8,8,9,5,10;10,10,5,7,10,9,6,10,8,6;10,10,9,7,7,9,9,8,9,5];
gen = check1(gen , min , max);
% 2. calculate value
val = estimate(gen);
for i = 1 : iter    
    % 3. select half of generation
    gen = select(gen , val , row);    
    % 4 crossover operand
    gen = crossover(gen);   
   % test = gen(:,1) + gen(:,2);
    % 5 mutation operand
    gen = mutation(gen , 2 , min , max);      
    % 6 calculate value
    val = estimate(gen);    
   % gen = lastGen;   
end
gen = select(gen , val , row);  % ??? is it needed?
bestValue = val(1);
bestGen = gen(1,:);
disp(bestValue);
disp(bestGen);



